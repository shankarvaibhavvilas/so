#include<stdlib.h> 
#include<string.h> 
#include<stdio.h> 
struct 
{ 
char dname[10],fname[10][10]; 
int fcnt; 
}dir; 
void main() 
{ 
int i,ch; 
char f[30]; 
dir.fcnt = 0; 
printf("\nEnter name of directory -- "); 
scanf("%s", dir.dname); 
while(1) 
{ 
printf("\n\n1. Create File\t2. Delete File\t3. Search File \n 4. Display Files\t5. Exit\nEnter 
your choice -- "); 
scanf("%d",&ch); 
switch(ch) 
{ 
case 1: printf("\nEnter the name of the file -- "); 
scanf("%s",dir.fname[dir.fcnt]); 
dir.fcnt++; 
break; 
case 2: printf("\nEnter the name of the file -- "); 
scanf("%s",f); 
for(i=0;i<dir.fcnt;i++) 
{ 
if(strcmp(f, dir.fname[i])==0) 
{ 
printf("File %s is deleted ",f); 

strcpy(dir.fname[i],dir.fname[dir.fcnt-1]); break; } } 
if(i==dir.fcnt) printf("File %s not found",f); 
else 
dir.fcnt--; 
break; 
case 3: printf("\nEnter the name of the file -- "); 
scanf("%s",f); 
for(i=0;i<dir.fcnt;i++) 
{ 
if(strcmp(f, dir.fname[i])==0) 
{ 
printf("File %s is found ", f); 
break; 
} 
} 
if(i==dir.fcnt) 
printf("File %s not found",f); 
break; 
case 4: if(dir.fcnt==0) 
printf("\nDirectory Empty"); 
else 
{ 
printf("\nThe Files are -- "); 
for(i=0;i<dir.fcnt;i++) 
printf("\t%s",dir.fname[i]); 
} 
break; 
default: exit(0); 
} 
} 
}
b)
#include<stdio.h> 
struct st 
{ 
char dname[10]; 
char sdname[10][10]; 
char fname[10][10][10]; 
Dept, Of Computer Science and Engineering, BIT                          
2023-2024 
Page 41 
BCS303                                                                            
Operating Systems Laboratory 
int ds,sds[10]; 
}dir[10]; 
void main() 
{ 
int i,j,k,n; 
char name[10]; 
printf("enter number of users:"); 
scanf("%d",&n); 
for(i=0;i<n;i++) 
{ 
printf("enter user directory %d names:",i+1); 
scanf("%s",&dir[i].dname); 
printf("enter size of directories:"); 
scanf("%d",&dir[i].ds); 
for(j=0;j<dir[i].ds;j++) 
{ 
printf("enter subdirectory name and size:"); 
scanf("%s",&dir[i].sdname[j]); 
scanf("%d",&dir[i].sds[j]); 
for(k=0;k<dir[i].sds[j];k++) 
{ 
printf("enter file name:"); 
scanf("%s",&dir[i].fname[j][k]); 
} 
} 
} 
printf("\ndirname\t\tsize\tsubdirname\tsize\tfiles"); 
printf("\n******************************************************\n"); 
for(i=0;i<n;i++) 
{ 
printf("%s\t\t%d",dir[i].dname,dir[i].ds); 
for(j=0;j<dir[i].ds;j++) 
{ 
printf("\t%s\t\t%d\t",dir[i].sdname[j],dir[i].sds[j]); 
for(k=0;k<dir[i].sds[j];k++) 
printf("%s\t",dir[i].fname[j][k]); 
printf("\n\t\t"); 
} 
printf("\n"); 
} 
}